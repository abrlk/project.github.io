/*! myADT - v0.1.0 - 2018-01-02 23:44:26 +0200 */ 
function Client(a){this.name=ko.observable(a.name),this.surname=ko.observable(a.surname),this.age=ko.observable(a.age),this.sex=ko.observable(a.sex)}function sortTable(a,b,c,d){d?b.sort(function(b,d){return a.sortBy("asc"),b[c]()==d[c]()?0:b[c]()<d[c]()?-1:1}):b.sort(function(b,d){return a.sortBy("desc"),b[c]()==d[c]()?0:b[c]()>d[c]()?-1:1})}var peopleData=[{name:"Joan",surname:"Dorian",age:26,sex:"male"},{name:"Joan",surname:"Pedro",age:25,sex:"male"},{name:"Joan",surname:"Mike",age:41,sex:"male"},{name:"Margaret",surname:"Noah",age:26,sex:"female"},{name:"Margaret",surname:"Nikson",age:30,sex:"female"},{name:"Eliot",surname:"Rid",age:29,sex:"female"},{name:"Joan",surname:"Nikson",age:20,sex:"female"},{name:"Joan",surname:"Nikson",age:23,sex:"female"},{name:"Joan",surname:"Dorian",age:26,sex:"male"},{name:"Joan",surname:"Pedro",age:25,sex:"male"},{name:"Joan",surname:"Mike",age:41,sex:"male"},{name:"Margaret",surname:"Noah",age:26,sex:"female"},{name:"Margaret",surname:"Nikson",age:30,sex:"female"},{name:"Eliot",surname:"Rid",age:29,sex:"female"},{name:"Joan",surname:"Nikson",age:20,sex:"female"},{name:"Joan",surname:"Nikson",age:23,sex:"female"},{name:"Joan",surname:"Dorian",age:26,sex:"male"},{name:"Joan",surname:"Pedro",age:25,sex:"male"},{name:"Joan",surname:"Mike",age:41,sex:"male"},{name:"Margaret",surname:"Noah",age:26,sex:"female"},{name:"Margaret",surname:"Nikson",age:30,sex:"female"},{name:"Eliot",surname:"Rid",age:29,sex:"female"},{name:"Joan",surname:"Nikson",age:20,sex:"female"},{name:"Joan",surname:"Nikson",age:23,sex:"female"},{name:"Joan",surname:"Dorian",age:26,sex:"male"},{name:"Joan",surname:"Pedro",age:25,sex:"male"},{name:"Joan",surname:"Mike",age:41,sex:"male"},{name:"Margaret",surname:"Noah",age:26,sex:"female"},{name:"Margaret",surname:"Nikson",age:30,sex:"female"},{name:"Eliot",surname:"Rid",age:29,sex:"female"},{name:"Joan",surname:"Nikson",age:20,sex:"female"},{name:"Joan",surname:"Nikson",age:23,sex:"female"},{name:"Joan",surname:"Dorian",age:26,sex:"male"},{name:"Joan",surname:"Pedro",age:25,sex:"male"},{name:"Joan",surname:"Mike",age:41,sex:"male"},{name:"Margaret",surname:"Noah",age:26,sex:"female"},{name:"Margaret",surname:"Nikson",age:30,sex:"female"},{name:"Eliot",surname:"Rid",age:29,sex:"female"},{name:"Joan",surname:"Nikson",age:20,sex:"female"},{name:"Joan",surname:"Nikson",age:23,sex:"female"},{name:"Joan",surname:"Dorian",age:26,sex:"male"},{name:"Joan",surname:"Pedro",age:25,sex:"male"},{name:"Joan",surname:"Mike",age:41,sex:"male"},{name:"Margaret",surname:"Noah",age:26,sex:"female"},{name:"Margaret",surname:"Nikson",age:30,sex:"female"},{name:"Eliot",surname:"Rid",age:29,sex:"female"},{name:"Joan",surname:"Nikson",age:20,sex:"female"},{name:"Xerox",surname:"Nikson",age:23,sex:"female"},{name:"Andriy",surname:"Nikson",age:23,sex:"female"},{name:"Biber",surname:"Nikson",age:23,sex:"female"},{name:"DonerKebab",surname:"Antonov",age:23,sex:"female"},{name:"Zlo",surname:"Zorro",age:23,sex:"female"},{name:"C-vitamin",surname:"Nikson",age:23,sex:"female"},{name:"Y",surname:"Nikson",age:23,sex:"female"}],mappedRows=$.map(peopleData,function(a){return new Client(a)});ko.bindingHandlers.sort={init:function(a,b,c,d,e){var f=!0;sortTable(d,b().arr,b().prop,f),a.onclick=function(){f=!f,sortTable(d,b().arr,b().prop,f)}}};var VievModel=function(a){this.rows=ko.observableArray([]),this.sortBy=ko.observable("asc"),self.sort=function(a,b){this.rows()},this.peopleData=ko.observableArray(a);var b={};this.filtered=peopleData.filter(function(a){return!(a.name in b)&&(b[a.name]=!0,!0)}).sort(function(a,b){return a.age-b.age}).map(function(a){var b=Object.assign({},a);return"female"==b.sex?b.name="Міс "+b.name:b.name="Містер "+b.name,b}),this.numberOfItemsPerPage=ko.observableArray([5,10,20,50,"all"]),this.rows=ko.observableArray(peopleData),this.pageSize=ko.observable(this.numberOfItemsPerPage()[0]),this.pageIndex=ko.observable(1),this.previousPage=function(){this.pageIndex()>0&&this.pageIndex(this.pageIndex()-1)},this.nextPage=function(){this.pageIndex()<this.maxPageIndex()&&this.pageIndex(this.pageIndex()+1)},this.gotoPage=function(a){this.pageIndex(a)},this.maxPageIndex=ko.computed(function(){return Math.ceil(this.rows().length/this.pageSize())},this),this.pagedPeoples=ko.computed(function(){var b=this.pageSize();"all"===b&&(b=a.length);var c=this.pageIndex()*b;return this.rows().slice(c,c+b)},this),this.buttons=function(){for(var a=[],b=0;b<this.maxPageIndex();b++)a.push(b);return a},this.rows(mappedRows),this.gotoPage(0)};ko.applyBindings(new VievModel(peopleData));